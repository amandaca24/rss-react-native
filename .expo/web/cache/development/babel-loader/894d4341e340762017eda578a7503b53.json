{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport createDataContext from \"./createDataContext\";\nimport { parse } from 'fast-xml-parser';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar KEY = 'items';\n\nvar saveItems = function saveItems(value) {\n  var jsonValue;\n  return _regeneratorRuntime.async(function saveItems$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          jsonValue = JSON.stringify(value);\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(KEY, jsonValue));\n\n        case 4:\n          console.log('funcionou');\n          _context.next = 10;\n          break;\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          console.log('erro: ' + _context.t0);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n};\n\nvar clearStorage = function clearStorage() {\n  return _regeneratorRuntime.async(function clearStorage$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.clear());\n\n        case 3:\n          alert('Funcionou!');\n          _context2.next = 10;\n          break;\n\n        case 6:\n          _context2.prev = 6;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log(_context2.t0);\n          alert('Algum problema ao limpar armazenamento');\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n};\n\nvar getItem = function getItem() {\n  var jsonValue;\n  return _regeneratorRuntime.async(function getItem$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(KEY).then(console.log));\n\n        case 3:\n          jsonValue = _context3.sent;\n          console.log('ITEMS = ' + jsonValue);\n          return _context3.abrupt(\"return\", jsonValue != null ? JSON.parse(jsonValue) : null);\n\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          alert(\"Algum problema ao buscar um feed\");\n\n        case 11:\n          console.log('Done.');\n\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 8]], Promise);\n};\n\nvar deleteItemStorage = function deleteItemStorage() {\n  return _regeneratorRuntime.async(function deleteItemStorage$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.removeItem('@key'));\n\n        case 3:\n          _context4.next = 9;\n          break;\n\n        case 5:\n          _context4.prev = 5;\n          _context4.t0 = _context4[\"catch\"](0);\n          alert('Houve algum problema ao apagar o item');\n          console.log('Erro: ' + _context4.t0);\n\n        case 9:\n          console.log('Done.');\n\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n};\n\nvar feedReducer = function feedReducer(state, action) {\n  var newState = [];\n\n  switch (action.type) {\n    case 'fetch_items':\n      newState = [].concat(_toConsumableArray(state), [{\n        titulo: action.payload.channel.title,\n        dataPublicacao: action.payload.channel.pubDate,\n        link: action.payload.channel.link,\n        descricao: action.payload.channel.description,\n        imagem: action.payload.channel.image\n      }]);\n      saveItems(newState);\n      return newState;\n\n    case 'get_item':\n      newState = state.filter(function (feed) {\n        return feed.urlFeed === action.payload;\n      });\n      getItem(newState);\n      return newState;\n\n    case 'delete_item':\n      newState = state.filter(function (item) {\n        return item.link !== action.payload;\n      });\n      deleteItemStorage(newState);\n      return newState;\n\n    case 'restore_state':\n      newState = action.payload;\n      return newState;\n\n    case 'delete_all':\n      clearStorage();\n      return [];\n\n    default:\n      return state;\n  }\n};\n\nvar getFeedItem = function getFeedItem(dispatch) {\n  return function (id, callback) {\n    dispatch({\n      type: 'get_item',\n      payload: id\n    });\n\n    if (callback) {\n      callback();\n    }\n\n    console.log('Feed i: ' + id);\n  };\n};\n\nvar deleteItem = function deleteItem(dispatch) {\n  return function (id) {\n    dispatch({\n      type: 'delete_feed',\n      payload: id\n    });\n    console.log('deletou o item');\n  };\n};\n\nvar fetchItems = function fetchItems(dispatch) {\n  return function _callee(fetch) {\n    var response, feedItems;\n    return _regeneratorRuntime.async(function _callee$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(fetch.get());\n\n          case 2:\n            response = _context5.sent;\n            feedItems = parse(response.data);\n            return _context5.abrupt(\"return\", function () {\n              dispatch({\n                type: 'fetch_items',\n                payload: feedItems\n              });\n            });\n\n          case 5:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar restoreState = function restoreState(dispatch) {\n  return function _callee2() {\n    var savedState;\n    return _regeneratorRuntime.async(function _callee2$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(KEY));\n\n          case 3:\n            savedState = _context6.sent;\n\n            if (!savedState) {\n              console.log('não tem nada salvo');\n            } else {\n              dispatch({\n                type: 'restore_state',\n                payload: JSON.parse(savedState)\n              });\n            }\n\n            _context6.next = 10;\n            break;\n\n          case 7:\n            _context6.prev = 7;\n            _context6.t0 = _context6[\"catch\"](0);\n            console.log('erro: ' + _context6.t0);\n\n          case 10:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n};\n\nvar deleteAll = function deleteAll(dispatch) {\n  return function () {\n    dispatch({\n      type: 'delete_all'\n    });\n    console.log('Apagou tudo!');\n  };\n};\n\nvar rssItems = [{\n  titulo: 'Congresso e Planalto não chegam a acordo durante reunião para discutir Orçamento de 2021',\n  link: 'https://g1.globo.com/politica/blog/valdo-cruz/post/2021/04/07/congresso-e-planalto-nao-chegam-a-acordo-durante-reuniao-para-discutir-orcamento-de-2021.ghtml',\n  descricao: 'Depois de uma reunião da cúpula do Congresso com o Palácio do Planalto na noite desta terça-feira (6), o impasse sobre a sanção do Orçamento de 2021 foi mantido e os dois lados não chegaram a um acordo sobre vetos às emendas parlamentares de responsabilidade do relator da proposta. Em jantar na residência oficial do presidente do Senado, Rodrigo Pacheco, com o presidente da Câmara dos Deputados, Arthur Lira, e o ministro da Casa Civil, Luiz Eduardo Ramos, a cúpula do Legislativo deixou claro que não aceita o rompimento do acordo feito com o governo para incluir no Orçamento de 2021 um valor extra de emendas parlamentares de R$ 16,5 bilhões e quer a sanção deste trecho da proposta aprovada no mês passado. Presidente da Câmara, Arthur Lira disse que a posição do Legislativo é que o governo sancione integralmente o chamado RP9, que inclui as emendas negociadas pelo relator do Orçamento, senador Márcio Bittar, que totalizam cerca de R$ 26 bilhões. Depois, o Palácio do Planalto enviaria um projeto de lei do Congresso Nacional (PLN) para recompor despesas obrigatórias do Orçamento no valor de R$ 20 bilhões. O presidente Jair Bolsonaro quer o inverso. Vetar integralmente as emendas de relator, diante da avaliação de que elas foram apresentadas com base em corte de despesas obrigatórias, para evitar o risco de um crime de responsabilidade fiscal que abriria brecha para um pedido de impeachment. Depois do veto, o governo enviaria um PLN para recompor as despesas do orçamento e verbas de emendas parlamentares. Em tom de brincadeira, mas que foi visto com um recado, Arthur Lira disse durante o jantar que, se o governo romper o acordo feito com o Congresso durante a votação da PEC Emergencial, o Palácio do Planalto não vai conseguir aprovar no Legislativo nem um pedido para festa junina. Rodrigo Pacheco fez questão de repetir o que já vem dizendo, que o governo agora não pode jogar a responsabilidade pelas mudanças no Orçamento nas costas do Congresso, porque acompanhou todas as negociações e deu aval para elas, inclusive o corte em despesas obrigatórias e na inclusão de emendas extras para os parlamentares. Pacheco disse que o relator Márcio Bittar está sendo tratado como um inimigo e ele elaborou seu relatório em negociações com a equipe econômica. Bittar fez o corte em despesas obrigatórias do Orçamento depois de receber o sinal verde da equipe de Paulo Guedes. Admite apenas que, durante a votação, o valor das emendas extras ficou R$ 10 bilhões acima do acordado e já sinalizou que pode cortar esse montante assim que o Orçamento for sancionado. Antes de viajar para o Sul, o presidente Jair Bolsonaro foi avisado da manutenção do impasse. A equipe presidencial aguarda seu retorno a Brasília para tomar uma decisão final sobre o Orçamento da União. O governo tem até o dia 22 de abril para sancionar a proposta, com ou sem vetos.',\n  imagem: '',\n  dataPublicacao: 'Wed, 07 Apr 2021 12:20:19 -0000'\n}];\n\nvar _createDataContext = createDataContext(feedReducer, {\n  deleteItem: deleteItem,\n  fetchItems: fetchItems,\n  restoreState: restoreState,\n  deleteAll: deleteAll,\n  getFeedItem: getFeedItem\n}, rssItems),\n    Context = _createDataContext.Context,\n    Provider = _createDataContext.Provider;\n\nexport { Context, Provider };","map":{"version":3,"sources":["E:/ResidenciaDEV/ReactNative/rss-react-native/src/context/FeedContext.js"],"names":["createDataContext","parse","AsyncStorage","KEY","saveItems","value","jsonValue","JSON","stringify","setItem","console","log","clearStorage","clear","alert","getItem","then","deleteItemStorage","removeItem","feedReducer","state","action","newState","type","titulo","payload","channel","title","dataPublicacao","pubDate","link","descricao","description","imagem","image","filter","feed","urlFeed","item","getFeedItem","dispatch","id","callback","deleteItem","fetchItems","fetch","get","response","feedItems","data","restoreState","savedState","deleteAll","rssItems","Context","Provider"],"mappings":"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","sourcesContent":["import createDataContext from './createDataContext';\r\nimport { parse } from 'fast-xml-parser';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst KEY = 'items';\r\n\r\nconst saveItems = async (value) => {\r\n    try {\r\n        const jsonValue = JSON.stringify(value);\r\n        await AsyncStorage.setItem(KEY, jsonValue);\r\n        console.log('funcionou');\r\n    } catch (e) {\r\n        console.log('erro: ' + e);\r\n    }\r\n}\r\n\r\nconst clearStorage = async () => {\r\n    try {\r\n        await AsyncStorage.clear();\r\n        alert('Funcionou!');\r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n        alert('Algum problema ao limpar armazenamento');\r\n    }\r\n}\r\n\r\nconst getItem = async () => {\r\n    try {\r\n      const jsonValue = await AsyncStorage.getItem(KEY).then(console.log);\r\n      console.log('ITEMS = ' + jsonValue)\r\n      return jsonValue != null ? JSON.parse(jsonValue) : null\r\n      \r\n    } catch(e) {\r\n      alert(\"Algum problema ao buscar um feed\");\r\n    }\r\n  \r\n    console.log('Done.')\r\n  \r\n  }\r\n\r\n  const deleteItemStorage = async () => {\r\n    try {\r\n        await AsyncStorage.removeItem('@key')\r\n      } catch(e) {\r\n        alert('Houve algum problema ao apagar o item');\r\n        console.log('Erro: ' + e);\r\n      }\r\n    \r\n      console.log('Done.')\r\n  }\r\n\r\n//Os dados do conteúdo do feed são recuperados pela biblioteca de leitura de XML, o fast-xml-parser.\r\n//O estado é espalhado e cada atributo recebe o seu valor, sendo salvo sob a chave 'items'.  \r\nconst feedReducer = (state, action) => {\r\n    let newState = [];\r\n    switch (action.type) {\r\n        case 'fetch_items':\r\n            newState = [\r\n                ...state,\r\n                {\r\n                    titulo: action.payload.channel.title,\r\n                    dataPublicacao: action.payload.channel.pubDate,\r\n                    link: action.payload.channel.link,\r\n                    descricao: action.payload.channel.description,\r\n                    imagem: action.payload.channel.image, \r\n                }\r\n            ];\r\n            saveItems(newState);\r\n            return newState;\r\n        case 'get_item':\r\n            newState = state.filter(\r\n                (feed) => feed.urlFeed === action.payload);\r\n                getItem(newState);\r\n            return newState;\r\n        case 'delete_item':\r\n            newState = state.filter(\r\n                (item) => item.link !== action.payload);\r\n            \r\n            deleteItemStorage(newState);\r\n            return newState;\r\n        case 'restore_state':\r\n            newState = action.payload;\r\n            return newState;\r\n        case 'delete_all':\r\n            clearStorage();\r\n            return [];\r\n        default:\r\n            return state;\r\n    } \r\n};\r\n\r\nconst getFeedItem = dispatch =>{\r\n    return(id, callback) => {\r\n        dispatch({type: 'get_item', payload: id });\r\n        if(callback){\r\n            callback();\r\n        }\r\n        console.log('Feed i: ' + id);\r\n    }\r\n}\r\n\r\nconst deleteItem = dispatch => {\r\n    return (id) => {\r\n        dispatch({ type: 'delete_feed', payload: id });\r\n        console.log('deletou o item');\r\n    };\r\n};\r\n\r\nconst fetchItems = dispatch => async (fetch) => {\r\n    const response = await fetch.get();\r\n    const feedItems = parse(response.data);\r\n    return () => {\r\n        dispatch({type: 'fetch_items', payload: feedItems});\r\n    }\r\n};\r\n\r\nconst restoreState = dispatch => async () => {\r\n    try {\r\n        const savedState = await AsyncStorage.getItem(KEY);\r\n        if (!savedState) {\r\n            console.log('não tem nada salvo');\r\n        }\r\n        else {\r\n            //console.log(savedState);\r\n            dispatch({ type: 'restore_state', payload: JSON.parse(savedState) })\r\n        }\r\n    } catch (e) {\r\n        console.log('erro: ' + e);\r\n    }\r\n}\r\n\r\nconst deleteAll = dispatch => {\r\n    return () => {\r\n        dispatch({ type: 'delete_all' })\r\n        console.log('Apagou tudo!');\r\n    }\r\n}\r\n\r\nconst rssItems = [\r\n    {\r\n        titulo: 'Congresso e Planalto não chegam a acordo durante reunião para discutir Orçamento de 2021',\r\n        link: 'https://g1.globo.com/politica/blog/valdo-cruz/post/2021/04/07/congresso-e-planalto-nao-chegam-a-acordo-durante-reuniao-para-discutir-orcamento-de-2021.ghtml',\r\n        descricao: 'Depois de uma reunião da cúpula do Congresso com o Palácio do Planalto na noite desta terça-feira (6), o impasse sobre a sanção do Orçamento de 2021 foi mantido e os dois lados não chegaram a um acordo sobre vetos às emendas parlamentares de responsabilidade do relator da proposta. Em jantar na residência oficial do presidente do Senado, Rodrigo Pacheco, com o presidente da Câmara dos Deputados, Arthur Lira, e o ministro da Casa Civil, Luiz Eduardo Ramos, a cúpula do Legislativo deixou claro que não aceita o rompimento do acordo feito com o governo para incluir no Orçamento de 2021 um valor extra de emendas parlamentares de R$ 16,5 bilhões e quer a sanção deste trecho da proposta aprovada no mês passado. Presidente da Câmara, Arthur Lira disse que a posição do Legislativo é que o governo sancione integralmente o chamado RP9, que inclui as emendas negociadas pelo relator do Orçamento, senador Márcio Bittar, que totalizam cerca de R$ 26 bilhões. Depois, o Palácio do Planalto enviaria um projeto de lei do Congresso Nacional (PLN) para recompor despesas obrigatórias do Orçamento no valor de R$ 20 bilhões. O presidente Jair Bolsonaro quer o inverso. Vetar integralmente as emendas de relator, diante da avaliação de que elas foram apresentadas com base em corte de despesas obrigatórias, para evitar o risco de um crime de responsabilidade fiscal que abriria brecha para um pedido de impeachment. Depois do veto, o governo enviaria um PLN para recompor as despesas do orçamento e verbas de emendas parlamentares. Em tom de brincadeira, mas que foi visto com um recado, Arthur Lira disse durante o jantar que, se o governo romper o acordo feito com o Congresso durante a votação da PEC Emergencial, o Palácio do Planalto não vai conseguir aprovar no Legislativo nem um pedido para festa junina. Rodrigo Pacheco fez questão de repetir o que já vem dizendo, que o governo agora não pode jogar a responsabilidade pelas mudanças no Orçamento nas costas do Congresso, porque acompanhou todas as negociações e deu aval para elas, inclusive o corte em despesas obrigatórias e na inclusão de emendas extras para os parlamentares. Pacheco disse que o relator Márcio Bittar está sendo tratado como um inimigo e ele elaborou seu relatório em negociações com a equipe econômica. Bittar fez o corte em despesas obrigatórias do Orçamento depois de receber o sinal verde da equipe de Paulo Guedes. Admite apenas que, durante a votação, o valor das emendas extras ficou R$ 10 bilhões acima do acordado e já sinalizou que pode cortar esse montante assim que o Orçamento for sancionado. Antes de viajar para o Sul, o presidente Jair Bolsonaro foi avisado da manutenção do impasse. A equipe presidencial aguarda seu retorno a Brasília para tomar uma decisão final sobre o Orçamento da União. O governo tem até o dia 22 de abril para sancionar a proposta, com ou sem vetos.',\r\n        imagem: '',\r\n        dataPublicacao: 'Wed, 07 Apr 2021 12:20:19 -0000',\r\n    },\r\n];\r\n\r\nexport const { Context, Provider } = createDataContext(\r\n    feedReducer,\r\n    { deleteItem, fetchItems, restoreState, deleteAll, getFeedItem },\r\n    rssItems\r\n);\r\n"]},"metadata":{},"sourceType":"module"}